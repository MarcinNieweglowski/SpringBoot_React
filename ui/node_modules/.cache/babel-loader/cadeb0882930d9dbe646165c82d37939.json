{"ast":null,"code":"import { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { uiActions } from \"../store/ui-slice\";\nimport { NotificationStatus } from \"../store/NotificationStatus\";\nexport const STORAGE_KEY = \"product_app_jwt_token\";\nconst useAuth = () => {\n  var _s = $RefreshSig$();\n  const redirectAndSendUiNotification = () => {\n    _s();\n    const dispatch = useDispatch();\n    dispatch(uiActions.showNotification({\n      status: NotificationStatus.ERROR,\n      title: 'Authorization token not found',\n      message: 'You must log in to perform the action'\n    }));\n    const history = useHistory();\n    history.replace(\"/login\");\n    return \"\";\n  };\n  _s(redirectAndSendUiNotification, \"FxNkVwM1QRg2/kU3+RDi4ll7EAM=\", false, function () {\n    return [useDispatch, useHistory];\n  });\n  const token = localStorage.getItem(STORAGE_KEY);\n  return token ? token : redirectAndSendUiNotification();\n};\nexport default useAuth;","map":{"version":3,"names":["useHistory","useDispatch","uiActions","NotificationStatus","STORAGE_KEY","useAuth","redirectAndSendUiNotification","dispatch","showNotification","status","ERROR","title","message","history","replace","token","localStorage","getItem"],"sources":["C:/Workspace/Java_Test/springboot-react-test/ui/src/utils/useAuth.tsx"],"sourcesContent":["import {useHistory} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {uiActions} from \"../store/ui-slice\";\r\nimport {NotificationStatus} from \"../store/NotificationStatus\";\r\n\r\nexport const STORAGE_KEY = \"product_app_jwt_token\";\r\n\r\nconst useAuth = () => {\r\n  const redirectAndSendUiNotification = (): string => {\r\n    const dispatch = useDispatch();\r\n\r\n    dispatch(\r\n      uiActions.showNotification({\r\n        status: NotificationStatus.ERROR,\r\n        title: 'Authorization token not found',\r\n        message: 'You must log in to perform the action'\r\n      })\r\n    );\r\n\r\n    const history = useHistory();\r\n    history.replace(\"/login\");\r\n\r\n    return \"\";\r\n  }\r\n\r\n  const token = localStorage.getItem(STORAGE_KEY);\r\n  return token ? token : redirectAndSendUiNotification();\r\n}\r\n\r\nexport default useAuth;"],"mappings":"AAAA,SAAQA,UAAU,QAAO,kBAAkB;AAC3C,SAAQC,WAAW,QAAO,aAAa;AACvC,SAAQC,SAAS,QAAO,mBAAmB;AAC3C,SAAQC,kBAAkB,QAAO,6BAA6B;AAE9D,OAAO,MAAMC,WAAW,GAAG,uBAAuB;AAElD,MAAMC,OAAO,GAAG,MAAM;EAAA;EACpB,MAAMC,6BAA6B,GAAG,MAAc;IAAA;IAClD,MAAMC,QAAQ,GAAGN,WAAW,EAAE;IAE9BM,QAAQ,CACNL,SAAS,CAACM,gBAAgB,CAAC;MACzBC,MAAM,EAAEN,kBAAkB,CAACO,KAAK;MAChCC,KAAK,EAAE,+BAA+B;MACtCC,OAAO,EAAE;IACX,CAAC,CAAC,CACH;IAED,MAAMC,OAAO,GAAGb,UAAU,EAAE;IAC5Ba,OAAO,CAACC,OAAO,CAAC,QAAQ,CAAC;IAEzB,OAAO,EAAE;EACX,CAAC;EAAA,GAfKR,6BAA6B;IAAA,QAChBL,WAAW,EAUZD,UAAU;EAAA;EAM5B,MAAMe,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACb,WAAW,CAAC;EAC/C,OAAOW,KAAK,GAAGA,KAAK,GAAGT,6BAA6B,EAAE;AACxD,CAAC;AAED,eAAeD,OAAO"},"metadata":{},"sourceType":"module"}