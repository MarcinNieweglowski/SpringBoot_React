{"ast":null,"code":"import { uiActions } from \"./ui-slice\";\nimport { NotificationStatus } from \"./NotificationStatus\";\nimport { STORAGE_KEY } from \"../utils/useAuth\";\nimport useRequest from \"../utils/useRequest\";\nexport const logIn = user => {\n  var _s = $RefreshSig$();\n  return _s(async dispatch => {\n    _s();\n    dispatch(uiActions.showNotification({\n      status: NotificationStatus.PENDING,\n      title: 'Logging in...',\n      message: 'Attempting to log in'\n    }));\n    try {\n      const response = await useRequest('/auth/login', 'POST', JSON.stringify(user));\n      const jwtToken = await response.json();\n      console.log(jwtToken);\n      localStorage.setItem(STORAGE_KEY, jwtToken);\n      dispatch(uiActions.showNotification({\n        status: NotificationStatus.SUCCESS,\n        title: 'Logged in',\n        message: 'Successfully logged in'\n      }));\n    } catch (error) {\n      dispatch(uiActions.showNotification({\n        status: NotificationStatus.ERROR,\n        title: 'Invalid credentials!',\n        message: 'Failed to log in'\n      }));\n    }\n  }, \"MR9UkoxdC0jMeK3sZZ8Im8iLe8c=\", false, function () {\n    return [useRequest];\n  });\n};\nexport const logOut = () => {\n  return async dispatch => {\n    dispatch(uiActions.showNotification({\n      status: NotificationStatus.PENDING,\n      title: 'Logging out...',\n      message: 'Attempting to log out'\n    }));\n    localStorage.removeItem(STORAGE_KEY);\n    dispatch(uiActions.showNotification({\n      status: NotificationStatus.SUCCESS,\n      title: 'Logged out',\n      message: 'Successfully logged out'\n    }));\n  };\n};\nexport const signIn = user => {\n  var _s2 = $RefreshSig$();\n  return _s2(async dispatch => {\n    _s2();\n    dispatch(uiActions.showNotification({\n      status: NotificationStatus.PENDING,\n      title: 'Signing in...',\n      message: 'Creating a new user'\n    }));\n    try {\n      await useRequest('/auth/signin', 'POST', JSON.stringify(user));\n      dispatch(uiActions.showNotification({\n        status: NotificationStatus.SUCCESS,\n        title: 'Created a new account',\n        message: 'Successfully created a new account'\n      }));\n    } catch (error) {\n      dispatch(uiActions.showNotification({\n        status: NotificationStatus.ERROR,\n        title: 'Error!',\n        message: 'Failed to create a new account'\n      }));\n    }\n  }, \"MR9UkoxdC0jMeK3sZZ8Im8iLe8c=\", false, function () {\n    return [useRequest];\n  });\n};\n\n// const sendRequest = async (url: string, method?: string, body?: string) => {\n//   const sendingData = await fetch(url, {\n//     method: method || 'GET',\n//     body,\n//     headers: {\n//       'Content-Type': 'application/json',\n//     }\n//   });\n//\n//   if (!sendingData.ok) {\n//     throw new Error('Sending product data failed.');\n//   }\n//\n//   return sendingData;\n// };","map":{"version":3,"names":["uiActions","NotificationStatus","STORAGE_KEY","useRequest","logIn","user","dispatch","showNotification","status","PENDING","title","message","response","JSON","stringify","jwtToken","json","console","log","localStorage","setItem","SUCCESS","error","ERROR","logOut","removeItem","signIn"],"sources":["C:/Workspace/Java_Test/springboot-react-test/ui/src/store/user-actions.tsx"],"sourcesContent":["import {User} from \"../types/User\";\r\nimport {uiActions} from \"./ui-slice\";\r\nimport {NotificationStatus} from \"./NotificationStatus\";\r\nimport {STORAGE_KEY} from \"../utils/useAuth\";\r\nimport useRequest from \"../utils/useRequest\";\r\n\r\nexport const logIn: any = (user: User) => {\r\n  return async (dispatch: any) => {\r\n    dispatch(\r\n      uiActions.showNotification({\r\n        status: NotificationStatus.PENDING,\r\n        title: 'Logging in...',\r\n        message: 'Attempting to log in'\r\n      })\r\n    );\r\n\r\n    try {\r\n      const response = await useRequest('/auth/login', 'POST', JSON.stringify(user));\r\n      const jwtToken = await response.json();\r\n      console.log(jwtToken);\r\n      localStorage.setItem(STORAGE_KEY, jwtToken);\r\n\r\n      dispatch(\r\n        uiActions.showNotification({\r\n          status: NotificationStatus.SUCCESS,\r\n          title: 'Logged in',\r\n          message: 'Successfully logged in'\r\n        })\r\n      );\r\n    } catch (error) {\r\n      dispatch(\r\n        uiActions.showNotification({\r\n          status: NotificationStatus.ERROR,\r\n          title: 'Invalid credentials!',\r\n          message: 'Failed to log in'\r\n        })\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport const logOut: any = () => {\r\n  return async (dispatch: any) => {\r\n    dispatch(\r\n      uiActions.showNotification({\r\n        status: NotificationStatus.PENDING,\r\n        title: 'Logging out...',\r\n        message: 'Attempting to log out'\r\n      })\r\n    );\r\n\r\n    localStorage.removeItem(STORAGE_KEY);\r\n\r\n    dispatch(\r\n      uiActions.showNotification({\r\n        status: NotificationStatus.SUCCESS,\r\n        title: 'Logged out',\r\n        message: 'Successfully logged out'\r\n      })\r\n    );\r\n  }\r\n}\r\n\r\nexport const signIn: any = (user: User) => {\r\n  return async (dispatch: any) => {\r\n    dispatch(\r\n      uiActions.showNotification({\r\n        status: NotificationStatus.PENDING,\r\n        title: 'Signing in...',\r\n        message: 'Creating a new user'\r\n      })\r\n    );\r\n\r\n    try {\r\n      await useRequest('/auth/signin', 'POST', JSON.stringify(user));\r\n\r\n      dispatch(\r\n        uiActions.showNotification({\r\n          status: NotificationStatus.SUCCESS,\r\n          title: 'Created a new account',\r\n          message: 'Successfully created a new account'\r\n        })\r\n      );\r\n    } catch (error) {\r\n      dispatch(\r\n        uiActions.showNotification({\r\n          status: NotificationStatus.ERROR,\r\n          title: 'Error!',\r\n          message: 'Failed to create a new account'\r\n        })\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n// const sendRequest = async (url: string, method?: string, body?: string) => {\r\n//   const sendingData = await fetch(url, {\r\n//     method: method || 'GET',\r\n//     body,\r\n//     headers: {\r\n//       'Content-Type': 'application/json',\r\n//     }\r\n//   });\r\n//\r\n//   if (!sendingData.ok) {\r\n//     throw new Error('Sending product data failed.');\r\n//   }\r\n//\r\n//   return sendingData;\r\n// };"],"mappings":"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"},"metadata":{},"sourceType":"module"}